<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>延迟加载原理</title>
    <style>
        *{margin:0;padding:0}
        #div1{width:100%;height:300px;background-color:green;text-align:center;line-height:100px;font-size:20px;}
    </style>
</head>
<body style="height:5000px;">
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<div id="div1">
    我是原来的文字
</div>
<script>
    /*
     * 需求:当div1盒子完全进入到浏览器的可是窗口内部的时候把里面的文字变成:我变给你看
     *   1、当浏览器滚动条变化时，进行计算
     *   2、明确当前可是窗口的位置范围:scrollTop+document.documentElement.clientHeight
     *   3、如何计算div1已经进到了可视窗口内:div1的顶边 < 浏览器当前窗口的底边
     * */
    var oDiv=document.getElementById('div1');
    window.onscroll=function(){
        var boxTop=oDiv.offsetTop+oDiv.offsetHeight/2;
        var browserBottom=(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight);
        if(boxTop<browserBottom){
            oDiv.innerHTML='看我七十二变...';
        }else{
            oDiv.innerHTML='我是原来的文字';
        }
    }
</script>
</body>
</html>